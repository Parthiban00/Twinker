<!-- <div class="header">
 <div class="rest-img">
   <img src="assets\chicken_biryani.jpg">
 </div>
 <ion-content>
   <p>Hotel Vaani</p>
   <p>1234,Aranmanai vaasal, sivaganga</p>
   </ion-content>
</div>  -->

<ion-header class="ion-no-border">
  <ion-toolbar  no-border>
      <ion-buttons slot="start">
      <ion-menu-button color="primary"></ion-menu-button>
      </ion-buttons>
    <ion-title style="font-family: lato;">
      {{whichRestaurant}}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="RedirectToHome()">
      <ion-icon color="primary" name="home"></ion-icon>
      </ion-button>
          </ion-buttons>
  </ion-toolbar>
  <!-- <ion-card style="height: 50px;">
  <div class="banner">

    <div class="caption ion-padding">

      <ion-icon name="location" ></ion-icon>&nbsp;&nbsp;<Small>Sivaganga</Small><br>
      <p style="font-size: small;">Rating: 4.5 | Taste: 4.5 | Delivery Time: 15-25mins</p>


    </div>
    </div>
  </ion-card> -->



    <div class="ad-slides">

      <ion-slides  [options]="{slidesPerView:'auto',zoom:false,grabCursor:true}" class="ion-margin-top">
         <ion-slide style="padding:0px;width: fit-content;"  *ngFor="let product of productDetails;let i=index">
           <ion-card *ngIf="product.Offer">
<div class="offer">TRENDING</div>
<div class="offer-content">
<p style="color: white; margin-top: 5px; font-size: small;">{{product.ProductName}}</p>
<p style="color: white;margin-top:-10px ;"> Rs.&nbsp;{{product.OfferPrice}}&nbsp;Only</p>
<ion-button color="danger" (click)="IncreaseItemOffer(i,product.MenuId)" style="height: 20px;--border-radius: 2px;position: sticky;bottom:10px">Add +</ion-button>


</div>
             <img src="{{product.ImageUrl}}">
           </ion-card>
         </ion-slide >



      </ion-slides>
      </div>

 <div  class="navbar" *ngIf="isSearch">

  <ion-segment  scrollable [(ngModel)]="menu" color="danger" (ionChange)="segmentChanged($event)">
    <ion-segment-button *ngFor="let menus of mainMenu;let j=index" value={{menus._id}}>
      {{menus.MenuName}}
    </ion-segment-button>

  </ion-segment>

</div>

</ion-header>




    <ion-content  >



      <div >

        <ion-slides  [options]="{slidesPerView:'auto',zoom:false,grabCursor:true}" class="ion-margin-top">
          <ion-slide>

      <div class="main" *ngIf="isSearch">

      <ion-refresher (ionRefresh)="doRefresh($event)" slot="fixed" pullFactor="0.5" pullMin="100" pullMax="200">
        <ion-refresher-content>
    </ion-refresher-content>
    </ion-refresher>

      <!-- <div class="todays-offers">

        <div *ngFor="let product of productDetails;let i=index">

          <div class="cart-items">
        <ion-card *ngIf="product.Offer">
          <div class="offers" *ngIf="product.Offer">
            -&nbsp;{{product.Offer}}% Off
            </div>
          <ion-card-content>
            <div class="item-img">
              <img src="assets\chicken_biryani.jpg" />
            </div>

            <div class="item-info">
              <p>{{product.ProductName}}</p>
            <p>{{product.Description}}</p>
            <div class="price">
            <p [ngClass]="product.Offer?'offer-price':''">Rs.{{product.Price}}.0</p>
               <p *ngIf="product.Offer">Rs.{{product.OfferPrice}}.0</p></div>
            <div class="qty-selector" >
      <ion-button fill="clear" (click)="DecreaseItem(i,product.MenuId);" [disabled]="!product.ItemCount">-</ion-button>
      <ion-label>{{product.ItemCount}}</ion-label>
      <ion-button fill="clear" (click)="IncreaseItem(i,product.MenuId)">+</ion-button>

            </div>
            <ion-icon  name="heart-outline" size="medium" class="heart"></ion-icon>

            </div>

          </ion-card-content>
          </ion-card>
          </div>
        </div>

      </div> -->



<!-- --------------------------------------------------------------------edit -->

  <!-- <div *ngFor="let product of products;let i=index">

    <div class="cart-items">

    <ion-card *ngIf="product.Offer">

    <div class="offers" *ngIf="product.Offer">
      -&nbsp;{{product.Offer}}% Off
      </div>
    <ion-card-content>
      <div class="item-img">
        <img src="{{product.ImageUrl}}" />
      </div>

      <div class="item-info">
        <p>{{product.ProductName}}</p>
      <p>{{product.Description}}</p>
      <div class="price">
      <p [ngClass]="product.Offer?'offer-price':''">Rs.{{product.Price}}.0</p>
         <p *ngIf="product.Offer">Rs.{{product.OfferPrice}}.0</p></div>
      <div class="qty-selector" >
<ion-button fill="clear" (click)="DecreaseItem(i,product.MenuId);" [disabled]="!product.ItemCount">-</ion-button>
<ion-label>{{product.ItemCount}}</ion-label>
<ion-button fill="clear" (click)="IncreaseItem(i,product.MenuId)">+</ion-button>

      </div>
      <ion-icon  name="heart-outline" size="medium" class="heart"></ion-icon>

      </div>

    </ion-card-content>
    </ion-card>
    </div>
  </div> -->


<!--
  <div *ngFor="let product of products;let i=index">
    <div class="cart-items">
  <ion-card *ngIf="!product.Offer">
    <div class="offers" *ngIf="product.Offer">
      -&nbsp;{{product.Offer}}% Off
      </div>
    <ion-card-content>
      <div class="item-img">

        <img src="{{product.ImageUrl}}"/>
      </div>

      <div class="item-info">
        <p>{{product.ProductName}}</p>
      <p>{{product.Description}}</p>
      <div class="price">
      <p [ngClass]="product.Offer?'offer-price':''">Rs.{{product.Price}}.0</p>
         <p *ngIf="product.Offer">Rs.{{product.OfferPrice}}.0</p></div>
      <div class="qty-selector" *ngIf="product.AvailableStatus">
<ion-button fill="clear" (click)="DecreaseItem(i,product.MenuId);" [disabled]="!product.ItemCount">-</ion-button>
<ion-label>{{product.ItemCount}}</ion-label>
<ion-button fill="clear" (click)="IncreaseItem(i,product.MenuId)">+</ion-button>

      </div>
      <div  *ngIf="!product.AvailableStatus">
        <p style="color:rgb(207, 3, 3);font-size: 12px;margin-top: 10px;font-style: italic;">Currently Not Available</p>
      </div>
      <ion-icon  name="heart-outline" size="medium" class="heart"></ion-icon>

      </div>

    </ion-card-content>
    </ion-card>
    </div>
  </div> -->
</div>


<!-- <div class="search-div" *ngIf="!isSearch" >

  <div class="search">

    <ion-searchbar #search debounce="500" [(ngModel)]="searchMenu" (ionChange)="SearchChange($event)"></ion-searchbar>


</div>

<div *ngFor="let product of products;let i=index">
  <div class="cart-items">
<ion-card *ngIf="!product.Offer">
  <div class="offers" *ngIf="product.Offer">
    -&nbsp;{{product.Offer}}% Off
    </div>
  <ion-card-content>
    <div class="item-img">
      <img src="assets/menu.jpg" />
    </div>

    <div class="item-info">
      <p>{{product.ProductName}}</p>
    <p>{{product.Description}}</p>
    <div class="price">
    <p [ngClass]="product.Offer?'offer-price':''">Rs.{{product.Price}}.0</p>
       <p *ngIf="product.Offer">Rs.{{product.OfferPrice}}.0</p></div>
    <div class="qty-selector" >
<ion-button fill="clear" (click)="DecreaseItem(i,product.MenuId);" [disabled]="!product.ItemCount">-</ion-button>
<ion-label>{{product.ItemCount}}</ion-label>
<ion-button fill="clear" (click)="IncreaseItem(i,product.MenuId)">+</ion-button>

    </div>
    <ion-icon  name="heart-outline" size="medium" class="heart"></ion-icon>

    </div>

  </ion-card-content>
  </ion-card>
  </div>
</div>

</div> -->

<ion-row>

  <ion-col style="padding: 0px;" *ngFor="let product of products;let i=index">
<div class="product">

  <img src="{{product.ImageUrl}}">
<div class="menu">
  <p>{{product.ProductName}}</p>
  <!-- <p style="margin-top: -15px;color: rgb(189, 189, 189);">[from Hotel vani]</p> -->
  <p style="margin-top: -15px;color: rgb(189, 189, 189);">{{product.Description}}</p>

  <div class="price">
    <p>Rs.{{product.Price}}</p>
</div>
  <div class="qty-selector" *ngIf="product.AvailableStatus && product.ItemCount">
  <ion-button fill="clear" (click)="DecreaseItem(i,product.MenuId);" [disabled]="!product.ItemCount" >-</ion-button>
<ion-label>{{product.ItemCount}}</ion-label>
<ion-button fill="clear"  (click)="IncreaseItem(i,product.MenuId)">+</ion-button>
</div>
<div  class="add-btn">
<ion-button color="danger" *ngIf="!product.ItemCount && product.AvailableStatus" (click)="IncreaseItem(i,product.MenuId)" style="height: 20px;--border-radius: 2px;position: sticky;bottom:10px">Add</ion-button>
</div>
<div  *ngIf="!product.AvailableStatus">
  <p style="color:rgb(207, 3, 3);font-size: 12px;margin-top: 10px;font-style: italic;">Currently Not Available</p>
</div>
  </div>
</div>
</ion-col>


  </ion-row>

  <!-- <ion-fab vertical="bottom" horizontal="end" slot="fixed" >
    <ion-fab-button  >
      <ion-icon name="filter"></ion-icon>
    </ion-fab-button>
     <ion-fab-list side="top">
      <ion-fab-button><ion-icon name="search" (click)="SearchMenu()"></ion-icon></ion-fab-button>
      <ion-fab-button><ion-icon name="list" (click)="CancelSearch()"></ion-icon></ion-fab-button>


    </ion-fab-list>
  </ion-fab> -->
  </ion-slide>
  </ion-slides>
  </div>

</ion-content>



<ion-footer *ngIf="showCart.length">
  <ion-toolbar (click)="ViewCart()">
    <!-- <ion-title>4 Items</ion-title> -->

    <ion-text class="title">{{showCart.length}} Items</ion-text>
    <ion-text class="description">from {{restaurantName1}}</ion-text>


    <ion-icon slot="end" name="cart"></ion-icon>
  </ion-toolbar>
</ion-footer>

